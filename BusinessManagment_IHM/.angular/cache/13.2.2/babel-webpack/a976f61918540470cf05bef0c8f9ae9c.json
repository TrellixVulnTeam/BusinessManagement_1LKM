{"ast":null,"code":"import { Meal } from '../Models/Meal';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/random-meal.service\";\nimport * as i2 from \"@angular/platform-browser\";\nexport let RestaurantsComponent = /*#__PURE__*/(() => {\n  class RestaurantsComponent {\n    constructor(mealService, sanitizer) {\n      this.mealService = mealService;\n      this.sanitizer = sanitizer;\n      this.isLoading = true;\n    }\n\n    ngOnInit() {\n      this.meal = new Meal();\n    }\n\n    getRandomMeal() {\n      this.mealService.getRandomMeal().subscribe(meal => {\n        this.createMeal(meal.meals[0]);\n      });\n    }\n\n    GetMealByCategory(category) {\n      this.mealService.getMealByCategory(category).subscribe(meal => {\n        let randomNumber = Math.floor(Math.random() * meal.meals.length);\n        this.mealService.getMealDetails(meal.meals[randomNumber].idMeal).subscribe(mealDetails => {\n          this.createMeal(mealDetails.meals[0]);\n        });\n      });\n    }\n\n    createMeal(meal) {\n      this.meal.idMeal = meal.idMeal;\n      this.meal.imgSrc = meal.strMealThumb;\n      this.meal.recipe = meal.strInstructions;\n      this.meal.title = meal.strMeal;\n      this.meal.video = `https://www.youtube.com/embed/${meal.strYoutube.slice(-11)}`;\n      this.safeUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.meal.video);\n      this.meal.category = meal.strCategory;\n      this.meal.area = meal.strArea;\n\n      if (meal.strTags) {\n        let tags = meal.strTags.split(',').join(', ');\n        this.meal.tags = tags;\n      }\n\n      let ingredients = [];\n\n      for (let i = 1; i <= 20; i++) {\n        if (meal[`strIngredient${i}`]) {\n          ingredients.push(`${meal[`strIngredient${i}`]} - ${meal[`strMeasure${i}`]}`);\n        }\n      }\n\n      this.meal.ingredients = ingredients;\n      this.isLoading = false;\n      setTimeout(() => {\n        const target = document.getElementById('target');\n        target.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }, 1);\n    }\n\n  }\n\n  RestaurantsComponent.ɵfac = function RestaurantsComponent_Factory(t) {\n    return new (t || RestaurantsComponent)(i0.ɵɵdirectiveInject(i1.RandomMealService), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n  };\n\n  RestaurantsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RestaurantsComponent,\n    selectors: [[\"app-restaurants\"]],\n    decls: 2,\n    vars: 0,\n    template: function RestaurantsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"restaurants works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"\"]\n  });\n  return RestaurantsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}